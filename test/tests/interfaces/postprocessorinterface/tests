[Tests]
  design = 'PostprocessorInterface.md'
  issues = '#17512'

  [param_errors]
    requirement = 'The system shall report a reasonable error when requesting a postprocessor from a parameter when'

    [missing_parameter]
      type = RunException
      input = 'ppi_errors.i'
      cli_args = 'UserObjects/error_test/missing_parameter=true'
      expect_err = 'When getting a Postprocessor, failed to get a parameter with the name \"bad_parameter\".'

      detail = 'the parameter is not found,'
    []
    [bad_parameter_type]
      type = RunException
      input = 'ppi_errors.i'
      cli_args = 'UserObjects/error_test/bad_parameter_type=true'
      expect_err = 'Supplied parameter with name \"real_param\" of type \"double\" is not an expected type for getting a Postprocessor.'

      detail = 'the parameter does not represent a postprocessor,'
    []
    [out_of_range_single]
      type = RunException
      input = 'ppi_errors.i'
      cli_args = 'UserObjects/error_test/out_of_range_single=true'
      expect_err = 'A postprocessor was requested with index 1 but a single postprocessor is coupled.'

      detail = 'the parameter is a single postprocessor value and a greater index than zero is requested,'
    []
    [out_of_range_vector]
      type = RunException
      input = 'ppi_errors.i'
      cli_args = 'UserObjects/error_test/out_of_range_vector=true'
      expect_err = 'A postprocessor was requested with index 100 but only 2 postprocessors are coupled.'

      detail = 'and the parameter is a single postprocessor value and a greater index than zero is requested.'
    []
  []

  [name_for_default_error]
    type = RunException
    input = 'ppi_errors.i'
    cli_args = 'UserObjects/error_test/name_for_default=true'
    expect_err = 'Cannot get the name because the postprocessor is a defualt value.'

    requirement = 'The system shall report a reasonable error when requesting a postprocessor name from a parameter in which the postprocessor is a default value and not a name.'
  []

  [has_postprocessor_errors]
    requirement = 'The system shall report a reasonable error when it is too early to request if a postprocesor exists'
    [param]
      type = RunException
      input = 'ppi_errors.i'
      cli_args = 'UserObjects/error_test/has_postprocessor_early=true'
      expect_err = 'Cannot call hasPostprocessor\(\) until all postprocessors have been constructed.'

      detail = 'by parameter name,'
    []
    [name]
      type = RunException
      input = 'ppi_errors.i'
      cli_args = 'UserObjects/error_test/has_postprocessor_early_by_name=true'
      expect_err = 'Cannot call hasPostprocessorByName\(\) until all postprocessors have been constructed.'

      detail = 'by postprocessor name,'
    []
    [object]
      type = RunException
      input = 'ppi_errors.i'
      cli_args = 'UserObjects/error_test/has_postprocessor_object_early=true'
      expect_err = 'Cannot call hasPostprocessorObjectByName\(\) until all postprocessors have been constructed.'

      detail = 'and by object.'
    []
  []
[]
