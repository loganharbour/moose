# Frequently Used Reactor Geometries and Corresponding Mesh Generators

!---

This section lists frequently used hexagonal-based geometries for reactor cores and their associated mesh generator objects. All the following are considered "base" mesh generators which expose all input options including control of block (subdomain) numbering.

A second set of mesh generators (Reactor Geometry Mesh Builder mesh generators) is available for regular hexagonal and Cartesian geometry and provides a reduced set of input options, removes any mention of block (subdomain) numbering, and instead allows the user to specify materials directly on the mesh. These are covered in another [Chapter](step10_rgmb.md).

!---

## Pin Cell

- [PolygonConcentricCircleMeshGenerator.md]

- 2D Cartesian or hexagonal unit pin cell, including fuel, clad, coolant and (optional) ducted regions on periphery

- Permits either quadrilateral or triangular elements in the pin center region (quad fuel and tri fuel regions must have different block IDs)
- Fuel area preservation
- Boundary layer meshing; radial mesh biasing
- Different azimuthal discretization possible per pin cell face

!row!
!col small=12 medium=6 large=8

!listing base_mesh_generators/common_geo.i
         block=Mesh/hex_1
         link=False

!col small=12 medium=6 large=4

!media tutorial04_meshing/base_ex_pccmg.png
       style=width:50%;display:block;margin-left:auto;margin-right:auto;

!row-end!

!---

## Assembly (Homogenized)

- [SimpleHexagonGenerator.md]

- 2D Hexagonal unit pin cell with coarse mesh discretization

- Three modes are available to discretize the hexagon:

  - +TRI+: 6 triangles (default)
  - +QUAD+: 2 quadrilateral
  - +HYBRID+: 6 triangles + 6 \* layer number quadrilateral per assembly

!row!
!col small=12 medium=6 large=8

!listing modules/reactor/test/tests/meshgenerators/simple_hexagon_generator/sim_hex.i
         block=Mesh
         link=False

!col small=12 medium=6 large=4

!media tutorial04_meshing/base_ex_shg.png
       style=width:100%;display:block;margin-left:auto;margin-right:auto;

!row-end!

!---

## Assembly (with multiple heterogeneous pins)

- [PatternedHexMeshGenerator.md]
- (Cartesian sibling -- [PatternedCartesianMeshGenerator.md])

- 2D Regular assembly with uniform pin pitch
- Optional background and duct regions

- When generating an assembly mesh using [PatternedHexMeshGenerator.md], be sure to set [!param](/Mesh/PatternedHexMeshGenerator/generate_core_metadata) as `false`
- When generating an assembly mesh, [PolygonConcentricCircleMeshGenerator.md]objects which define the hexagonal unit pin cells are generally used as inputs

!row!
!col small=12 medium=6 large=8

!listing base_mesh_generators/common_geo.i
         block=Mesh/pattern_assm
         link=False

!col small=12 medium=6 large=4

!media tutorial04_meshing/base_ex_phmg_assm.png
       style=width:50%;display:block;margin-left:auto;margin-right:auto;

!row-end!

!---

## Assembly (control drum, duct-heterogeneous, or single pin)

!row!
!col small=12 medium=6 large=8

- [HexagonConcentricCircleAdaptiveBoundaryMeshGenerator.md]
- (Cartesian sibling -- [CartesianConcentricCircleAdaptiveBoundaryMeshGenerator.md])

- Hexagonal mesh with assembly metadata
- Can optionally match other assembly meshes' external boundary to enable stitching to generate core meshes.

- It can be used without specifying [!param](/Mesh/HexagonConcentricCircleAdaptiveBoundaryMeshGenerator/sides_to_adapt) and [!param](/Mesh/HexagonConcentricCircleAdaptiveBoundaryMeshGenerator/meshes_to_adapt_to) to generate [PolygonConcentricCircleMeshGenerator.md]-style hexagonal mesh with assembly mesh metadata

!col small=12 medium=6 large=4

!media tutorial04_meshing/base_ex_hccabmg.png
       style=width:100%;display:block;margin-left:auto;margin-right:auto;

!row-end!

!listing modules/reactor/test/tests/meshgenerators/hexagon_concentric_circle_adaptive_boundary_generator/hex_2d.i
         block=Mesh/gen
         link=False

!---

## Core

!row!
!col small=12 medium=6 large=8

- [PatternedHexMeshGenerator.md]
- (Cartesian sibling -- [PatternedCartesianMeshGenerator.md])

- 2D regular assembly pattern with uniform assembly pitch

- Assembly meshes generated by [PatternedHexMeshGenerator.md], [HexagonConcentricCircleAdaptiveBoundaryMeshGenerator.md] and [SimpleHexagonGenerator.md] can be used as inputs
- Core mesh generation should include the parameter [!param](/Mesh/PatternedHexMeshGenerator/generate_core_metadata) as `true`

!col small=12 medium=6 large=4

!media tutorial04_meshing/base_ex_phmg_core.png
       style=width:100%;display:block;margin-left:auto;margin-right:auto;

!row-end!

!listing base_mesh_generators/common_geo.i
         block=Mesh/pattern_core
         link=False

!---

## Core Periphery (PRMG)

!row!
!col small=12 medium=6 large=8

- [PeripheralRingMeshGenerator.md] (abbreviated as PRMG)

- Adds circular peripheral region to a reactor core mesh
- [PeripheralRingMeshGenerator.md] has a boundary layer capability

- [PeripheralRingMeshGenerator.md] generates a structured peripheral mesh with +QUAD4+ elements

!col small=12 medium=6 large=4

!media tutorial04_meshing/base_ex_prmg.png
       style=width:60%;display:block;margin-left:auto;margin-right:auto;

!row-end!

!listing base_mesh_generators/common_geo.i
         block=Mesh/pr
         link=False

!---

## Core Periphery (PTMG)

!row!
!col small=12 medium=6 large=8

- [PeripheralTriangleMeshGenerator.md] (abbreviated as PTMG)

- Adds circular peripheral region to a reactor core mesh

- [PeripheralTriangleMeshGenerator.md] generates an unstructured peripheral mesh with +TRI3+ elements

- Automatic element area refinement is available

!col small=12 medium=6 large=4

!media tutorial04_meshing/base_ex_ptmg.png
       style=width:60%;display:block;margin-left:auto;margin-right:auto;

!row-end!

!listing base_mesh_generators/common_geo.i
         block=Mesh/pt
         link=False
